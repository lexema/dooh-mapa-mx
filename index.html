<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mapa DOOH - CDMX, GDL, MTY</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter','Segoe UI',system-ui,sans-serif;background:#1e293b;color:#cbd5e1}
#map{width:100%;height:100vh}

.panel{position:absolute;top:12px;left:12px;z-index:1000;background:rgba(30,41,59,0.94);border:1px solid #3b4a63;border-radius:14px;padding:18px;width:310px;max-height:calc(100vh - 24px);overflow-y:auto;box-shadow:0 4px 24px rgba(0,0,0,0.25);backdrop-filter:blur(14px)}
.panel h2{font-size:16px;font-weight:800;color:#f1f5f9;margin-bottom:14px;display:flex;align-items:center;gap:8px}
.section{margin-bottom:14px}
.section-title{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:#7c8da4;margin-bottom:8px}
.filter-group{display:flex;flex-wrap:wrap;gap:4px}

.chip{padding:4px 10px;border-radius:20px;font-size:11px;cursor:pointer;border:1px solid #475569;background:rgba(51,65,85,0.4);color:#94a3b8;transition:all .15s;white-space:nowrap}
.chip:hover{border-color:#818cf8;color:#c7d2fe}
.chip.active{background:#4f46e5;border-color:#4f46e5;color:#fff;font-weight:600}

.stat-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:6px;margin-bottom:14px}
.stat-card{background:rgba(51,65,85,0.45);border:1px solid #3b4a63;border-radius:10px;padding:10px 6px;text-align:center}
.stat-card .val{font-size:17px;font-weight:800;color:#f1f5f9}
.stat-card .lbl{font-size:9px;color:#7c8da4;text-transform:uppercase;letter-spacing:0.5px;margin-top:2px}

.city-btn{padding:6px 14px;border-radius:8px;font-size:12px;cursor:pointer;border:1px solid #475569;background:rgba(51,65,85,0.3);color:#94a3b8;transition:all .15s;font-weight:600}
.city-btn:hover{border-color:#818cf8;color:#c7d2fe;background:rgba(79,70,229,0.1)}
.city-btn.active{background:#4f46e5;border-color:#4f46e5;color:#fff}
.city-btns{display:flex;gap:6px;margin-bottom:8px;flex-wrap:wrap}

.legend-item{display:flex;align-items:center;gap:6px;padding:3px 0;font-size:11px;color:#94a3b8}
.legend-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}
.legend-count{margin-left:auto;font-size:10px;color:#64748b;font-weight:700}

.info-box{background:rgba(79,70,229,0.1);border:1px solid rgba(99,102,241,0.25);border-radius:8px;padding:10px;margin-top:8px;font-size:11px;line-height:1.6;color:#a5b4fc}

.mode-toggle{display:flex;gap:0;margin-bottom:12px;border:1px solid #475569;border-radius:8px;overflow:hidden}
.mode-btn{flex:1;padding:7px 0;font-size:11px;cursor:pointer;border:none;background:rgba(51,65,85,0.3);color:#7c8da4;font-weight:600;transition:all .15s;text-align:center}
.mode-btn:not(:last-child){border-right:1px solid #475569}
.mode-btn:hover{background:rgba(79,70,229,0.12);color:#c7d2fe}
.mode-btn.active{background:#4f46e5;color:#fff}

.bubble-legend{display:flex;align-items:flex-end;gap:10px;justify-content:center;padding:8px 0}
.bubble-legend-item{display:flex;flex-direction:column;align-items:center;gap:2px}
.bubble-legend-item .circle{border-radius:50%;border:2px solid #818cf8;background:rgba(129,140,248,0.12)}
.bubble-legend-item .bl-label{font-size:9px;color:#7c8da4;font-weight:600}

.leaflet-popup-content-wrapper{background:rgba(30,41,59,0.96);color:#e2e8f0;border:1px solid #3b4a63;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.3);backdrop-filter:blur(8px)}
.leaflet-popup-tip{background:rgba(30,41,59,0.96)}
.leaflet-popup-content{margin:12px 16px;font-family:'Inter','Segoe UI',system-ui,sans-serif}
.popup-title{font-size:13px;font-weight:700;color:#f1f5f9;margin-bottom:6px}
.popup-row{font-size:11px;color:#7c8da4;margin-bottom:3px;display:flex;justify-content:space-between}
.popup-row span{color:#e2e8f0;font-weight:700}
.popup-badge{display:inline-block;padding:2px 8px;border-radius:10px;font-size:10px;font-weight:700;margin-bottom:4px}
.popup-imp{font-size:18px;font-weight:800;color:#a5b4fc;text-align:center;padding:6px 0 2px;letter-spacing:-0.5px}
.popup-imp-label{font-size:9px;color:#7c8da4;text-align:center;text-transform:uppercase;letter-spacing:0.5px}

::-webkit-scrollbar{width:4px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:#475569;border-radius:4px}
@media(max-width:640px){.panel{width:calc(100vw - 24px);max-height:50vh}}
</style>
</head>
<body>
<div id="map"></div>
<div class="panel" id="panel">
  <h2>üìç DOOH M√©xico</h2>
  <div class="stat-grid" id="stats"></div>

  <div class="section">
    <div class="section-title">Modo de visualizaci√≥n</div>
    <div class="mode-toggle" id="modeToggle">
      <div class="mode-btn active" data-mode="markers">Por tipo</div>
      <div class="mode-btn" data-mode="bubbles">Impacto potencial</div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">Ciudad</div>
    <div class="city-btns" id="cityFilters"></div>
  </div>

  <div class="section">
    <div class="section-title">Venue Type</div>
    <div id="venueFilters" class="filter-group"></div>
  </div>

  <div class="section" id="legendSection">
    <div class="section-title">Leyenda</div>
    <div id="legend"></div>
  </div>

  <div class="section" id="bubbleLegendSection" style="display:none">
    <div class="section-title">Escala de impacto (Impressions)</div>
    <div class="bubble-legend">
      <div class="bubble-legend-item"><div class="circle" style="width:12px;height:12px"></div><div class="bl-label">&lt;1K</div></div>
      <div class="bubble-legend-item"><div class="circle" style="width:20px;height:20px"></div><div class="bl-label">5K</div></div>
      <div class="bubble-legend-item"><div class="circle" style="width:30px;height:30px"></div><div class="bl-label">25K</div></div>
      <div class="bubble-legend-item"><div class="circle" style="width:42px;height:42px"></div><div class="bl-label">50K</div></div>
      <div class="bubble-legend-item"><div class="circle" style="width:56px;height:56px"></div><div class="bl-label">100K+</div></div>
    </div>
  </div>

  <div class="info-box" id="infoBox"></div>
</div>

<script>
const DATA = {"points": [{"city": "Guadalajara", "venue": "Outdoor / Billboards", "lat": 20.6818, "lng": -103.3737, "count": 4, "impressions": 151844.0}, {"city": "Guadalajara", "venue": "Retail / Grocery", "lat": 20.7134, "lng": -103.3611, "count": 1, "impressions": 23573.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6754, "lng": -103.3866, "count": 1, "impressions": 6110.0}, {"city": "Guadalajara", "venue": "Leisure / Bars", "lat": 20.7211, "lng": -103.4913, "count": 1, "impressions": 4506.0}, {"city": "Guadalajara", "venue": "Outdoor / Urban Panels", "lat": 20.6591, "lng": -103.3584, "count": 2, "impressions": 4694.0}, {"city": "Guadalajara", "venue": "Transit / Subway", "lat": 20.6755, "lng": -103.3549, "count": 1, "impressions": 4161.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6724, "lng": -103.3683, "count": 1, "impressions": 2493.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6769, "lng": -103.3658, "count": 1, "impressions": 1432.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6849, "lng": -103.3736, "count": 1, "impressions": 977.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6744, "lng": -103.3802, "count": 1, "impressions": 854.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6745, "lng": -103.3698, "count": 1, "impressions": 371.0}, {"city": "Guadalajara", "venue": "Outdoor / Urban Panels", "lat": 20.6888, "lng": -103.296, "count": 1, "impressions": 371.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6943, "lng": -103.373, "count": 1, "impressions": 314.0}, {"city": "Guadalajara", "venue": "Outdoor / Urban Panels", "lat": 20.6212, "lng": -103.39, "count": 1, "impressions": 286.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6481, "lng": -103.334, "count": 1, "impressions": 281.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6744, "lng": -103.367, "count": 1, "impressions": 180.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6746, "lng": -103.386, "count": 1, "impressions": 163.0}, {"city": "Guadalajara", "venue": "Leisure / Bars", "lat": 20.7212, "lng": -103.4913, "count": 1, "impressions": 129.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6749, "lng": -103.374, "count": 2, "impressions": 152.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.703, "lng": -103.376, "count": 1, "impressions": 90.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6479, "lng": -103.387, "count": 1, "impressions": 79.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6898, "lng": -103.377, "count": 1, "impressions": 79.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6669, "lng": -103.37, "count": 1, "impressions": 73.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6721, "lng": -103.3856, "count": 1, "impressions": 56.0}, {"city": "Guadalajara", "venue": "Retail / Mall", "lat": 20.6943, "lng": -103.3752, "count": 1, "impressions": 51.0}, {"city": "Guadalajara", "venue": "Outdoor / Bus Shelters", "lat": 20.6737, "lng": -103.3686, "count": 1, "impressions": 45.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3261, "lng": -99.199, "count": 2, "impressions": 164820.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4029, "lng": -99.2448, "count": 1, "impressions": 128261.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3647, "lng": -99.1799, "count": 2, "impressions": 177744.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4276, "lng": -99.2041, "count": 2, "impressions": 147648.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3527, "lng": -99.1772, "count": 3, "impressions": 139950.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.359, "lng": -99.172, "count": 2, "impressions": 139884.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4215, "lng": -99.0833, "count": 1, "impressions": 101893.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4511, "lng": -99.1023, "count": 2, "impressions": 104344.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3719, "lng": -99.1881, "count": 3, "impressions": 165706.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4255, "lng": -99.0901, "count": 1, "impressions": 86329.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3894, "lng": -99.2615, "count": 2, "impressions": 127249.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.334, "lng": -99.1997, "count": 2, "impressions": 115871.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.392, "lng": -99.2597, "count": 2, "impressions": 122710.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3862, "lng": -99.1613, "count": 2, "impressions": 145494.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3779, "lng": -99.2703, "count": 2, "impressions": 112143.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3552, "lng": -99.1777, "count": 2, "impressions": 130144.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4407, "lng": -99.1911, "count": 2, "impressions": 100007.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4179, "lng": -99.079, "count": 1, "impressions": 74276.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4413, "lng": -99.2103, "count": 2, "impressions": 96646.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4402, "lng": -99.2055, "count": 2, "impressions": 88363.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4245, "lng": -99.0886, "count": 1, "impressions": 69782.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4235, "lng": -99.0866, "count": 1, "impressions": 69505.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3323, "lng": -99.2073, "count": 3, "impressions": 105312.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4404, "lng": -99.208, "count": 2, "impressions": 107165.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3711, "lng": -99.1856, "count": 2, "impressions": 108048.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3836, "lng": -99.272, "count": 2, "impressions": 90099.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3831, "lng": -99.2672, "count": 1, "impressions": 67474.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3633, "lng": -99.1795, "count": 2, "impressions": 128676.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4356, "lng": -99.1874, "count": 1, "impressions": 66593.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.388, "lng": -99.2629, "count": 2, "impressions": 69007.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3834, "lng": -99.2745, "count": 2, "impressions": 121849.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4284, "lng": -99.1856, "count": 2, "impressions": 75108.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3214, "lng": -99.2139, "count": 2, "impressions": 106496.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3813, "lng": -99.2671, "count": 2, "impressions": 113990.0}, {"city": "Mexico City", "venue": "Retail / Grocery", "lat": 19.3586, "lng": -99.2713, "count": 1, "impressions": 59079.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4296, "lng": -99.1784, "count": 2, "impressions": 107346.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4361, "lng": -99.2011, "count": 2, "impressions": 97443.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.356, "lng": -99.1899, "count": 2, "impressions": 89098.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3987, "lng": -99.1709, "count": 2, "impressions": 91555.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4263, "lng": -99.2034, "count": 2, "impressions": 70786.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3618, "lng": -99.1549, "count": 1, "impressions": 56199.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4081, "lng": -99.1756, "count": 2, "impressions": 98598.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3669, "lng": -99.1887, "count": 2, "impressions": 77987.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4176, "lng": -99.0785, "count": 1, "impressions": 53809.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3528, "lng": -99.274, "count": 2, "impressions": 55907.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3895, "lng": -99.1634, "count": 2, "impressions": 61334.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3625, "lng": -99.1824, "count": 2, "impressions": 105361.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4225, "lng": -99.0849, "count": 1, "impressions": 52298.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3816, "lng": -99.1599, "count": 2, "impressions": 93693.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3089, "lng": -99.2045, "count": 2, "impressions": 97886.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3705, "lng": -99.1076, "count": 1, "impressions": 51877.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3886, "lng": -99.1779, "count": 2, "impressions": 99805.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4323, "lng": -99.1816, "count": 3, "impressions": 79410.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3606, "lng": -99.1897, "count": 1, "impressions": 49135.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4083, "lng": -99.2396, "count": 1, "impressions": 48991.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.434, "lng": -99.2016, "count": 2, "impressions": 70993.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3617, "lng": -99.1862, "count": 1, "impressions": 47818.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4365, "lng": -99.2068, "count": 2, "impressions": 82832.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4169, "lng": -99.0984, "count": 2, "impressions": 75133.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3561, "lng": -99.1847, "count": 2, "impressions": 59021.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3653, "lng": -99.1847, "count": 2, "impressions": 85501.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.388, "lng": -99.2502, "count": 2, "impressions": 46213.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4247, "lng": -99.1784, "count": 2, "impressions": 88411.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3641, "lng": -99.1766, "count": 2, "impressions": 74539.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3894, "lng": -99.2509, "count": 2, "impressions": 77009.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4, "lng": -99.1703, "count": 2, "impressions": 58263.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4379, "lng": -99.1921, "count": 2, "impressions": 74819.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.363, "lng": -99.1888, "count": 2, "impressions": 61341.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3635, "lng": -99.1698, "count": 1, "impressions": 42496.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3869, "lng": -99.2533, "count": 2, "impressions": 74125.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.373, "lng": -99.2779, "count": 1, "impressions": 41795.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3623, "lng": -99.1828, "count": 2, "impressions": 69029.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4324, "lng": -99.2019, "count": 2, "impressions": 67742.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.305, "lng": -99.2059, "count": 2, "impressions": 58265.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3128, "lng": -99.2028, "count": 1, "impressions": 38147.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3801, "lng": -99.2653, "count": 2, "impressions": 58686.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.438, "lng": -99.1903, "count": 2, "impressions": 56741.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3544, "lng": -99.2762, "count": 2, "impressions": 62690.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3587, "lng": -99.1706, "count": 2, "impressions": 68380.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3627, "lng": -99.1702, "count": 2, "impressions": 67317.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4396, "lng": -99.1903, "count": 1, "impressions": 33498.0}, {"city": "Mexico City", "venue": "Retail / Grocery", "lat": 19.443, "lng": -99.2042, "count": 1, "impressions": 33078.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.425, "lng": -99.0894, "count": 1, "impressions": 32757.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3781, "lng": -99.1601, "count": 2, "impressions": 60181.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4114, "lng": -99.1778, "count": 2, "impressions": 41872.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3903, "lng": -99.2597, "count": 2, "impressions": 53606.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.452, "lng": -99.0939, "count": 1, "impressions": 30056.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3384, "lng": -99.1905, "count": 2, "impressions": 47693.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3631, "lng": -99.1896, "count": 2, "impressions": 42368.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3328, "lng": -99.2051, "count": 1, "impressions": 29130.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4356, "lng": -99.2072, "count": 2, "impressions": 55956.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3779, "lng": -99.2688, "count": 2, "impressions": 49378.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4282, "lng": -99.1744, "count": 2, "impressions": 54155.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3338, "lng": -99.2089, "count": 2, "impressions": 28257.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3669, "lng": -99.1912, "count": 1, "impressions": 25740.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3371, "lng": -99.1865, "count": 1, "impressions": 25200.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3031, "lng": -99.1781, "count": 1, "impressions": 24556.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4317, "lng": -99.1793, "count": 2, "impressions": 32617.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3994, "lng": -99.1912, "count": 1, "impressions": 24023.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3191, "lng": -99.2113, "count": 1, "impressions": 23743.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3626, "lng": -99.2655, "count": 2, "impressions": 40254.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4319, "lng": -99.1991, "count": 1, "impressions": 22834.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.353, "lng": -99.2005, "count": 2, "impressions": 23944.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4075, "lng": -99.1131, "count": 2, "impressions": 26954.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3902, "lng": -99.2526, "count": 1, "impressions": 22455.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4058, "lng": -99.2353, "count": 2, "impressions": 38848.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3999, "lng": -99.1883, "count": 2, "impressions": 39918.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.4392, "lng": -99.0946, "count": 1, "impressions": 21799.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3595, "lng": -99.1933, "count": 2, "impressions": 22192.0}, {"city": "Mexico City", "venue": "Retail / Grocery", "lat": 19.2948, "lng": -99.2245, "count": 1, "impressions": 21526.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3719, "lng": -99.1796, "count": 2, "impressions": 26578.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3642, "lng": -99.271, "count": 2, "impressions": 39943.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.365, "lng": -99.1778, "count": 1, "impressions": 20207.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.361, "lng": -99.2801, "count": 2, "impressions": 26801.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3711, "lng": -99.1882, "count": 3, "impressions": 39190.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3833, "lng": -99.1759, "count": 1, "impressions": 19883.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4093, "lng": -99.1779, "count": 2, "impressions": 30958.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4278, "lng": -99.2076, "count": 1, "impressions": 17133.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4308, "lng": -99.0905, "count": 1, "impressions": 16751.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3996, "lng": -99.1706, "count": 2, "impressions": 26474.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4076, "lng": -99.2408, "count": 1, "impressions": 15286.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3608, "lng": -99.1922, "count": 2, "impressions": 14825.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3663, "lng": -99.1907, "count": 1, "impressions": 14033.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3176, "lng": -99.2098, "count": 1, "impressions": 13967.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4295, "lng": -99.2171, "count": 1, "impressions": 13103.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4387, "lng": -99.2125, "count": 2, "impressions": 24022.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3815, "lng": -99.1799, "count": 1, "impressions": 13078.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3969, "lng": -99.22, "count": 1, "impressions": 13065.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.34, "lng": -99.2035, "count": 1, "impressions": 12928.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3026, "lng": -99.1436, "count": 1, "impressions": 12736.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3336, "lng": -99.2094, "count": 1, "impressions": 12556.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.374, "lng": -99.1922, "count": 2, "impressions": 13207.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3675, "lng": -99.1909, "count": 1, "impressions": 11455.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.2989, "lng": -99.1587, "count": 1, "impressions": 11193.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3656, "lng": -99.1911, "count": 2, "impressions": 11837.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3703, "lng": -99.1916, "count": 1, "impressions": 11006.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3327, "lng": -99.2095, "count": 1, "impressions": 10804.0}, {"city": "Mexico City", "venue": "Leisure / Recreational Locations", "lat": 19.3637, "lng": -99.181, "count": 9, "impressions": 23092.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3506, "lng": -99.2011, "count": 3, "impressions": 12702.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3725, "lng": -99.1878, "count": 1, "impressions": 10137.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3541, "lng": -99.2, "count": 1, "impressions": 9973.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3543, "lng": -99.2762, "count": 2, "impressions": 11315.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4075, "lng": -99.1131, "count": 2, "impressions": 12107.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3555, "lng": -99.2761, "count": 1, "impressions": 9081.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3729, "lng": -99.1923, "count": 3, "impressions": 14359.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.2879, "lng": -99.218, "count": 1, "impressions": 8985.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4125, "lng": -99.0976, "count": 1, "impressions": 8985.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3414, "lng": -99.2024, "count": 1, "impressions": 8900.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3636, "lng": -99.1914, "count": 1, "impressions": 8760.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3466, "lng": -99.202, "count": 1, "impressions": 8760.0}, {"city": "Mexico City", "venue": "Leisure / Recreational Locations", "lat": 19.4381, "lng": -99.2083, "count": 3, "impressions": 9295.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4266, "lng": -99.2057, "count": 1, "impressions": 8590.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3654, "lng": -99.2668, "count": 1, "impressions": 8566.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4132, "lng": -99.166, "count": 1, "impressions": 8401.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3256, "lng": -99.2134, "count": 1, "impressions": 7446.0}, {"city": "Mexico City", "venue": "Retail / Grocery", "lat": 19.4386, "lng": -99.2002, "count": 2, "impressions": 7924.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3484, "lng": -99.2016, "count": 2, "impressions": 7592.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.372, "lng": -99.1881, "count": 1, "impressions": 6783.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3586, "lng": -99.1945, "count": 1, "impressions": 6424.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4354, "lng": -99.1827, "count": 1, "impressions": 6218.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3076, "lng": -99.1936, "count": 1, "impressions": 6177.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.396, "lng": -99.1717, "count": 1, "impressions": 5999.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.3992, "lng": -99.1626, "count": 1, "impressions": 5930.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4153, "lng": -99.0743, "count": 1, "impressions": 5846.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3499, "lng": -99.201, "count": 2, "impressions": 9732.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4376, "lng": -99.1472, "count": 2, "impressions": 6789.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.3295, "lng": -99.1367, "count": 2, "impressions": 5559.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3862, "lng": -99.2528, "count": 1, "impressions": 5384.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3654, "lng": -99.1847, "count": 1, "impressions": 5132.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4163, "lng": -99.0747, "count": 1, "impressions": 5121.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4285, "lng": -99.1684, "count": 1, "impressions": 4751.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4252, "lng": -99.2219, "count": 1, "impressions": 4650.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3527, "lng": -99.1772, "count": 1, "impressions": 4526.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4379, "lng": -99.1922, "count": 1, "impressions": 4464.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3652, "lng": -99.2669, "count": 2, "impressions": 5436.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.425, "lng": -99.0894, "count": 1, "impressions": 4363.0}, {"city": "Mexico City", "venue": "Health & Beauty / Gyms", "lat": 19.3688, "lng": -99.1217, "count": 2, "impressions": 4253.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3631, "lng": -99.1794, "count": 1, "impressions": 4122.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4283, "lng": -99.2288, "count": 1, "impressions": 4099.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.372, "lng": -99.1915, "count": 1, "impressions": 3931.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4015, "lng": -99.1878, "count": 2, "impressions": 6463.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3861, "lng": -99.1613, "count": 1, "impressions": 3774.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4404, "lng": -99.208, "count": 1, "impressions": 3740.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4092, "lng": -99.1356, "count": 1, "impressions": 3723.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3986, "lng": -99.1709, "count": 1, "impressions": 3695.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3675, "lng": -99.2633, "count": 1, "impressions": 3613.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4365, "lng": -99.2069, "count": 2, "impressions": 6076.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4296, "lng": -99.1784, "count": 2, "impressions": 6205.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4169, "lng": -99.1343, "count": 2, "impressions": 4009.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4387, "lng": -99.2125, "count": 1, "impressions": 3268.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.464, "lng": -99.1459, "count": 1, "impressions": 3234.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3283, "lng": -99.1394, "count": 2, "impressions": 3358.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4061, "lng": -99.1723, "count": 1, "impressions": 3212.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.3853, "lng": -99.1827, "count": 1, "impressions": 3066.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.3788, "lng": -99.1589, "count": 1, "impressions": 3032.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3883, "lng": -99.2411, "count": 1, "impressions": 2987.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.305, "lng": -99.2016, "count": 1, "impressions": 2965.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4311, "lng": -99.2082, "count": 1, "impressions": 2849.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4019, "lng": -99.16, "count": 1, "impressions": 2763.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.425, "lng": -99.1443, "count": 1, "impressions": 2729.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4127, "lng": -99.1709, "count": 1, "impressions": 2639.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3782, "lng": -99.1601, "count": 1, "impressions": 2606.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3555, "lng": -99.276, "count": 1, "impressions": 2572.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3712, "lng": -99.1857, "count": 1, "impressions": 2527.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3078, "lng": -99.1335, "count": 2, "impressions": 2628.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3641, "lng": -99.1766, "count": 1, "impressions": 2443.0}, {"city": "Mexico City", "venue": "Retail / Grocery", "lat": 19.4422, "lng": -99.2064, "count": 1, "impressions": 2410.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4247, "lng": -99.1784, "count": 1, "impressions": 2375.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4326, "lng": -99.1332, "count": 8, "impressions": 8086.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4521, "lng": -99.0939, "count": 1, "impressions": 2302.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3708, "lng": -99.1882, "count": 2, "impressions": 3369.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4317, "lng": -99.1793, "count": 1, "impressions": 2285.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3903, "lng": -99.2597, "count": 1, "impressions": 2201.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4418, "lng": -99.2117, "count": 1, "impressions": 2190.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4432, "lng": -99.195, "count": 1, "impressions": 2156.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3191, "lng": -99.2113, "count": 1, "impressions": 2111.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4265, "lng": -99.1491, "count": 3, "impressions": 2881.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3627, "lng": -99.2652, "count": 1, "impressions": 2095.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4324, "lng": -99.2019, "count": 1, "impressions": 2083.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4244, "lng": -99.1329, "count": 2, "impressions": 2527.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4, "lng": -99.1884, "count": 1, "impressions": 1999.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.356, "lng": -99.1847, "count": 1, "impressions": 1977.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4148, "lng": -99.1722, "count": 1, "impressions": 1932.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3993, "lng": -99.1912, "count": 1, "impressions": 1915.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4276, "lng": -99.2042, "count": 2, "impressions": 3032.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4953, "lng": -99.1195, "count": 1, "impressions": 1870.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4357, "lng": -99.1874, "count": 1, "impressions": 1842.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4255, "lng": -99.125, "count": 1, "impressions": 1819.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4624, "lng": -99.1287, "count": 1, "impressions": 1808.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4315, "lng": -99.185, "count": 1, "impressions": 1808.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.5047, "lng": -99.2001, "count": 1, "impressions": 1752.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3771, "lng": -99.2607, "count": 1, "impressions": 1743.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.3881, "lng": -99.1538, "count": 1, "impressions": 1718.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3339, "lng": -99.1997, "count": 1, "impressions": 1701.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3894, "lng": -99.2615, "count": 1, "impressions": 1696.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4508, "lng": -99.0966, "count": 1, "impressions": 1685.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4352, "lng": -99.1906, "count": 1, "impressions": 1685.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.288, "lng": -99.2181, "count": 1, "impressions": 1685.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.3852, "lng": -99.1809, "count": 1, "impressions": 1685.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3611, "lng": -99.2757, "count": 1, "impressions": 1685.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3869, "lng": -99.2533, "count": 2, "impressions": 2735.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3961, "lng": -99.1852, "count": 1, "impressions": 1572.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.3959, "lng": -99.156, "count": 2, "impressions": 1769.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4354, "lng": -99.1483, "count": 2, "impressions": 2358.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3998, "lng": -99.1804, "count": 1, "impressions": 1415.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.2772, "lng": -99.1663, "count": 1, "impressions": 1415.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3595, "lng": -99.1893, "count": 1, "impressions": 1348.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3631, "lng": -99.1896, "count": 1, "impressions": 1342.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.3463, "lng": -99.1808, "count": 2, "impressions": 1668.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4384, "lng": -99.2058, "count": 1, "impressions": 1314.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4334, "lng": -99.1896, "count": 1, "impressions": 1292.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4125, "lng": -99.0976, "count": 1, "impressions": 1286.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4124, "lng": -99.1547, "count": 1, "impressions": 1258.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3328, "lng": -99.205, "count": 1, "impressions": 1213.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.5007, "lng": -99.1492, "count": 1, "impressions": 1202.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4114, "lng": -99.1714, "count": 1, "impressions": 1168.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.355, "lng": -99.1997, "count": 1, "impressions": 1168.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4265, "lng": -99.1964, "count": 1, "impressions": 1146.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4462, "lng": -99.1524, "count": 1, "impressions": 1129.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4314, "lng": -99.1882, "count": 1, "impressions": 1112.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4374, "lng": -99.1468, "count": 2, "impressions": 1651.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3975, "lng": -99.1716, "count": 1, "impressions": 1078.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.3615, "lng": -99.1893, "count": 2, "impressions": 1791.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3582, "lng": -99.184, "count": 1, "impressions": 1067.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4447, "lng": -99.1674, "count": 1, "impressions": 1044.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.3914, "lng": -99.151, "count": 1, "impressions": 1044.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4066, "lng": -99.156, "count": 3, "impressions": 2353.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4277, "lng": -99.1419, "count": 3, "impressions": 1527.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4594, "lng": -99.1882, "count": 2, "impressions": 1235.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3927, "lng": -99.2593, "count": 1, "impressions": 955.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4084, "lng": -99.1899, "count": 1, "impressions": 943.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4582, "lng": -99.1872, "count": 1, "impressions": 943.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4512, "lng": -99.0961, "count": 1, "impressions": 898.0}, {"city": "Mexico City", "venue": "Retail / Grocery", "lat": 19.3355, "lng": -99.196, "count": 1, "impressions": 877.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4153, "lng": -99.0719, "count": 2, "impressions": 1752.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3582, "lng": -99.1532, "count": 1, "impressions": 876.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4851, "lng": -99.1255, "count": 1, "impressions": 870.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.432, "lng": -99.2019, "count": 1, "impressions": 865.0}, {"city": "Mexico City", "venue": "Outdoor / Bus Shelters", "lat": 19.3581, "lng": -99.165, "count": 1, "impressions": 854.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4119, "lng": -99.0823, "count": 1, "impressions": 854.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.3953, "lng": -99.1686, "count": 1, "impressions": 786.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4059, "lng": -99.1685, "count": 1, "impressions": 775.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3434, "lng": -99.2024, "count": 1, "impressions": 764.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4336, "lng": -99.1909, "count": 2, "impressions": 1129.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4266, "lng": -99.1377, "count": 2, "impressions": 865.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3941, "lng": -99.1724, "count": 1, "impressions": 732.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4151, "lng": -99.1853, "count": 1, "impressions": 719.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3699, "lng": -99.2939, "count": 1, "impressions": 708.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4325, "lng": -99.1323, "count": 1, "impressions": 708.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3083, "lng": -99.1333, "count": 1, "impressions": 674.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4369, "lng": -99.2109, "count": 1, "impressions": 629.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.376, "lng": -99.1919, "count": 1, "impressions": 629.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3783, "lng": -99.1915, "count": 1, "impressions": 606.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4301, "lng": -99.1143, "count": 1, "impressions": 606.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.439, "lng": -99.1543, "count": 1, "impressions": 595.0}, {"city": "Mexico City", "venue": "Outdoor / Bus Shelters", "lat": 19.4141, "lng": -99.2443, "count": 1, "impressions": 595.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3389, "lng": -99.2039, "count": 1, "impressions": 584.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.357, "lng": -99.1976, "count": 1, "impressions": 584.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4022, "lng": -99.1868, "count": 2, "impressions": 1168.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.437, "lng": -99.1404, "count": 1, "impressions": 567.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3365, "lng": -99.2064, "count": 1, "impressions": 562.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3887, "lng": -99.1895, "count": 1, "impressions": 550.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4319, "lng": -99.1991, "count": 1, "impressions": 545.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4053, "lng": -99.1924, "count": 1, "impressions": 539.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.3614, "lng": -99.1709, "count": 1, "impressions": 539.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3805, "lng": -99.1542, "count": 1, "impressions": 533.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3563, "lng": -99.1985, "count": 1, "impressions": 517.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.319, "lng": -99.2111, "count": 1, "impressions": 505.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4316, "lng": -99.1413, "count": 1, "impressions": 494.0}, {"city": "Mexico City", "venue": "Transit / Taxi & Rideshare Tv", "lat": 19.3495, "lng": -99.1635, "count": 1, "impressions": 483.0}, {"city": "Mexico City", "venue": "Outdoor / Bus Shelters", "lat": 19.3644, "lng": -99.2709, "count": 1, "impressions": 483.0}, {"city": "Mexico City", "venue": "Outdoor / Bus Shelters", "lat": 19.3577, "lng": -99.2736, "count": 1, "impressions": 472.0}, {"city": "Mexico City", "venue": "Transit / Taxi & Rideshare Tv", "lat": 19.4345, "lng": -99.086, "count": 1, "impressions": 472.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.4273, "lng": -99.1652, "count": 2, "impressions": 539.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4288, "lng": -99.191, "count": 1, "impressions": 472.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3878, "lng": -99.1905, "count": 1, "impressions": 460.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.3561, "lng": -99.1013, "count": 1, "impressions": 455.0}, {"city": "Mexico City", "venue": "Transit / Taxi & Rideshare Tv", "lat": 19.4116, "lng": -99.1696, "count": 1, "impressions": 449.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4259, "lng": -99.1326, "count": 1, "impressions": 432.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4397, "lng": -99.1182, "count": 1, "impressions": 427.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4295, "lng": -99.1209, "count": 1, "impressions": 421.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4452, "lng": -99.1461, "count": 1, "impressions": 416.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.362, "lng": -99.1429, "count": 1, "impressions": 410.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3384, "lng": -99.1905, "count": 1, "impressions": 404.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.4195, "lng": -99.1544, "count": 1, "impressions": 382.0}, {"city": "Mexico City", "venue": "Outdoor / Bus Shelters", "lat": 19.3602, "lng": -99.1709, "count": 1, "impressions": 371.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.4356, "lng": -99.2072, "count": 1, "impressions": 359.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4258, "lng": -99.192, "count": 1, "impressions": 354.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3809, "lng": -99.192, "count": 1, "impressions": 348.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4893, "lng": -99.1447, "count": 1, "impressions": 337.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3654, "lng": -99.204, "count": 1, "impressions": 337.0}, {"city": "Mexico City", "venue": "Sin clasificar", "lat": 19.3606, "lng": -99.2743, "count": 1, "impressions": 337.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.434, "lng": -99.2016, "count": 1, "impressions": 331.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3618, "lng": -99.1861, "count": 1, "impressions": 309.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4465, "lng": -99.1534, "count": 1, "impressions": 303.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4023, "lng": -99.1875, "count": 2, "impressions": 438.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3835, "lng": -99.1452, "count": 1, "impressions": 286.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4424, "lng": -99.086, "count": 1, "impressions": 286.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4288, "lng": -99.1194, "count": 1, "impressions": 281.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3606, "lng": -99.2743, "count": 1, "impressions": 281.0}, {"city": "Mexico City", "venue": "Transit / Taxi & Rideshare Tv", "lat": 19.3589, "lng": -99.2684, "count": 1, "impressions": 281.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4283, "lng": -99.1432, "count": 1, "impressions": 281.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3881, "lng": -99.2628, "count": 1, "impressions": 270.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.504, "lng": -99.183, "count": 1, "impressions": 258.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4447, "lng": -99.1452, "count": 1, "impressions": 253.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.3002, "lng": -99.2093, "count": 1, "impressions": 247.0}, {"city": "Mexico City", "venue": "Outdoor / Bus Shelters", "lat": 19.347, "lng": -99.1804, "count": 1, "impressions": 241.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4202, "lng": -99.1771, "count": 1, "impressions": 230.0}, {"city": "Mexico City", "venue": "Transit / Taxi & Rideshare Tv", "lat": 19.2527, "lng": -99.0936, "count": 1, "impressions": 225.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3282, "lng": -99.2184, "count": 1, "impressions": 225.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4835, "lng": -99.1253, "count": 1, "impressions": 225.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.4239, "lng": -99.0938, "count": 1, "impressions": 202.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.4416, "lng": -99.1972, "count": 1, "impressions": 180.0}, {"city": "Mexico City", "venue": "Retail / Grocery", "lat": 19.2992, "lng": -99.2122, "count": 1, "impressions": 175.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3835, "lng": -99.1991, "count": 1, "impressions": 168.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.37, "lng": -99.2941, "count": 1, "impressions": 168.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4551, "lng": -99.1135, "count": 1, "impressions": 163.0}, {"city": "Mexico City", "venue": "Outdoor / Billboards", "lat": 19.436, "lng": -99.1987, "count": 1, "impressions": 157.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4475, "lng": -99.1521, "count": 1, "impressions": 140.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4406, "lng": -99.2063, "count": 1, "impressions": 140.0}, {"city": "Mexico City", "venue": "Outdoor / Bus Shelters", "lat": 19.4436, "lng": -99.2209, "count": 1, "impressions": 118.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3067, "lng": -99.0433, "count": 1, "impressions": 118.0}, {"city": "Mexico City", "venue": "Outdoor / Bus Shelters", "lat": 19.3392, "lng": -99.1284, "count": 1, "impressions": 118.0}, {"city": "Mexico City", "venue": "Outdoor / Urban Panels", "lat": 19.3512, "lng": -99.2184, "count": 1, "impressions": 118.0}, {"city": "Mexico City", "venue": "Outdoor / Bus Shelters", "lat": 19.4344, "lng": -99.1711, "count": 1, "impressions": 118.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3785, "lng": -99.0361, "count": 1, "impressions": 118.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3462, "lng": -99.1676, "count": 1, "impressions": 101.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.5127, "lng": -99.2141, "count": 1, "impressions": 101.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.491, "lng": -99.1481, "count": 1, "impressions": 90.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4887, "lng": -99.1072, "count": 1, "impressions": 79.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4416, "lng": -99.1606, "count": 1, "impressions": 79.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.501, "lng": -99.0861, "count": 1, "impressions": 79.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.2892, "lng": -99.0071, "count": 1, "impressions": 79.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4244, "lng": -99.0655, "count": 1, "impressions": 79.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3748, "lng": -99.0162, "count": 1, "impressions": 79.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3319, "lng": -99.1693, "count": 1, "impressions": 79.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4977, "lng": -99.1155, "count": 1, "impressions": 79.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3248, "lng": -99.2607, "count": 1, "impressions": 79.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.2924, "lng": -98.9985, "count": 1, "impressions": 67.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3579, "lng": -99.2741, "count": 2, "impressions": 95.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4941, "lng": -99.1498, "count": 1, "impressions": 51.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3749, "lng": -99.2378, "count": 1, "impressions": 51.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3727, "lng": -99.2002, "count": 1, "impressions": 51.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.5311, "lng": -99.1549, "count": 1, "impressions": 51.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.2671, "lng": -99.0037, "count": 1, "impressions": 51.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4569, "lng": -99.1337, "count": 1, "impressions": 51.0}, {"city": "Mexico City", "venue": "Transit / Taxi & Rideshare Tv", "lat": 19.3796, "lng": -99.173, "count": 1, "impressions": 45.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4943, "lng": -99.133, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3127, "lng": -98.9662, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.5193, "lng": -99.158, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3565, "lng": -99.3005, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4427, "lng": -99.1234, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3957, "lng": -99.1068, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.267, "lng": -99.1714, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4483, "lng": -99.097, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.4291, "lng": -99.18, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.2702, "lng": -99.2409, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.2806, "lng": -99.166, "count": 1, "impressions": 39.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3616, "lng": -99.1897, "count": 1, "impressions": 34.0}, {"city": "Mexico City", "venue": "Transit / Buses", "lat": 19.4333, "lng": -99.1172, "count": 1, "impressions": 34.0}, {"city": "Mexico City", "venue": "Transit / Buses", "lat": 19.3641, "lng": -99.2674, "count": 1, "impressions": 34.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.2531, "lng": -99.0554, "count": 1, "impressions": 34.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.2331, "lng": -99.0965, "count": 1, "impressions": 34.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4409, "lng": -99.1158, "count": 1, "impressions": 34.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3986, "lng": -99.1881, "count": 1, "impressions": 34.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.48, "lng": -99.1355, "count": 1, "impressions": 34.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.2545, "lng": -99.0647, "count": 1, "impressions": 34.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3042, "lng": -99.1906, "count": 1, "impressions": 28.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3642, "lng": -99.2674, "count": 1, "impressions": 22.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.4344, "lng": -99.1511, "count": 2, "impressions": 34.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4462, "lng": -99.1882, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3275, "lng": -99.1566, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3113, "lng": -99.1598, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.5415, "lng": -99.1439, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4769, "lng": -99.1629, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3334, "lng": -99.2327, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4521, "lng": -99.1175, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3995, "lng": -99.067, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.49, "lng": -99.0707, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3926, "lng": -99.132, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4629, "lng": -99.1613, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.4164, "lng": -99.0752, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3232, "lng": -99.167, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3811, "lng": -99.2225, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.3865, "lng": -99.2649, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Convenience Stores", "lat": 19.5643, "lng": -99.1421, "count": 1, "impressions": 17.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3591, "lng": -99.169, "count": 1, "impressions": 11.0}, {"city": "Mexico City", "venue": "Transit / Buses", "lat": 19.4164, "lng": -99.1563, "count": 1, "impressions": 11.0}, {"city": "Mexico City", "venue": "Transit / Taxi & Rideshare Tv", "lat": 19.3453, "lng": -99.1903, "count": 1, "impressions": 11.0}, {"city": "Mexico City", "venue": "Transit / Subway", "lat": 19.4919, "lng": -99.1712, "count": 2, "impressions": 11.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3044, "lng": -99.1909, "count": 1, "impressions": 6.0}, {"city": "Mexico City", "venue": "Transit / Buses", "lat": 19.4324, "lng": -99.1778, "count": 1, "impressions": 6.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.3039, "lng": -99.1888, "count": 1, "impressions": 6.0}, {"city": "Mexico City", "venue": "Retail / Mall", "lat": 19.4415, "lng": -99.1973, "count": 1, "impressions": 6.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6274, "lng": -100.2727, "count": 1, "impressions": 104446.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6413, "lng": -100.2865, "count": 2, "impressions": 88005.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.722, "lng": -100.3916, "count": 2, "impressions": 75402.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6666, "lng": -100.2845, "count": 1, "impressions": 62707.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6853, "lng": -100.3802, "count": 2, "impressions": 51303.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6251, "lng": -100.2756, "count": 2, "impressions": 53040.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7296, "lng": -100.3196, "count": 2, "impressions": 49416.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7079, "lng": -100.3503, "count": 2, "impressions": 44609.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7337, "lng": -100.4004, "count": 1, "impressions": 40431.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6711, "lng": -100.3545, "count": 1, "impressions": 35939.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7339, "lng": -100.4008, "count": 1, "impressions": 29200.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7264, "lng": -100.3226, "count": 2, "impressions": 28987.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6999, "lng": -100.362, "count": 2, "impressions": 44923.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.696, "lng": -100.3675, "count": 2, "impressions": 38185.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6634, "lng": -100.2975, "count": 1, "impressions": 25185.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.5887, "lng": -100.2586, "count": 1, "impressions": 24708.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7155, "lng": -100.3803, "count": 2, "impressions": 23506.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6708, "lng": -100.2848, "count": 2, "impressions": 20547.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6772, "lng": -100.3763, "count": 1, "impressions": 18991.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6689, "lng": -100.3477, "count": 1, "impressions": 16532.0}, {"city": "Monterrey", "venue": "Leisure / Recreational Locations", "lat": 25.6727, "lng": -100.3508, "count": 7, "impressions": 28023.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6703, "lng": -100.3531, "count": 1, "impressions": 13814.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.5983, "lng": -100.2641, "count": 1, "impressions": 13477.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6672, "lng": -100.3418, "count": 1, "impressions": 11231.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6705, "lng": -100.3539, "count": 1, "impressions": 11231.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7292, "lng": -100.3207, "count": 2, "impressions": 19957.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.5752, "lng": -100.2452, "count": 1, "impressions": 10703.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6767, "lng": -100.352, "count": 1, "impressions": 10125.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.665, "lng": -100.331, "count": 1, "impressions": 9563.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6305, "lng": -100.3007, "count": 1, "impressions": 8985.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.689, "lng": -100.3519, "count": 2, "impressions": 15723.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6715, "lng": -100.3187, "count": 1, "impressions": 8979.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6734, "lng": -100.3542, "count": 1, "impressions": 8530.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6942, "lng": -100.3617, "count": 1, "impressions": 8114.0}, {"city": "Monterrey", "venue": "Health & Beauty / Gyms", "lat": 25.7452, "lng": -100.4219, "count": 1, "impressions": 7940.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6759, "lng": -100.2906, "count": 1, "impressions": 6761.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6658, "lng": -100.3197, "count": 1, "impressions": 6739.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6711, "lng": -100.3466, "count": 1, "impressions": 6739.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6863, "lng": -100.3516, "count": 2, "impressions": 6958.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.714, "lng": -100.38, "count": 2, "impressions": 6941.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6311, "lng": -100.2793, "count": 1, "impressions": 6082.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6723, "lng": -100.3804, "count": 2, "impressions": 6660.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6473, "lng": -100.275, "count": 1, "impressions": 5919.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.5778, "lng": -100.2487, "count": 1, "impressions": 5840.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6741, "lng": -100.3526, "count": 2, "impressions": 7637.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6703, "lng": -100.3448, "count": 1, "impressions": 5206.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.7296, "lng": -100.3196, "count": 1, "impressions": 5144.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6711, "lng": -100.3466, "count": 1, "impressions": 5093.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7034, "lng": -100.3508, "count": 2, "impressions": 5335.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6929, "lng": -100.3515, "count": 2, "impressions": 5436.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6697, "lng": -100.3544, "count": 1, "impressions": 4627.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.674, "lng": -100.3649, "count": 2, "impressions": 5919.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6534, "lng": -100.2938, "count": 1, "impressions": 4492.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6711, "lng": -100.3544, "count": 1, "impressions": 4066.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6367, "lng": -100.3105, "count": 1, "impressions": 3762.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6771, "lng": -100.2907, "count": 1, "impressions": 3139.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.7126, "lng": -100.3499, "count": 1, "impressions": 2976.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.712, "lng": -100.3766, "count": 3, "impressions": 4223.0}, {"city": "Monterrey", "venue": "Health & Beauty / Gyms", "lat": 25.672, "lng": -100.3468, "count": 3, "impressions": 3077.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.5887, "lng": -100.2586, "count": 1, "impressions": 2577.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6658, "lng": -100.3197, "count": 1, "impressions": 2572.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7386, "lng": -100.4062, "count": 2, "impressions": 4195.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.5983, "lng": -100.265, "count": 1, "impressions": 2454.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6919, "lng": -100.3518, "count": 1, "impressions": 2415.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6342, "lng": -100.3051, "count": 2, "impressions": 2600.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6352, "lng": -100.3075, "count": 1, "impressions": 2246.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7238, "lng": -100.3173, "count": 1, "impressions": 2246.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6663, "lng": -100.3041, "count": 1, "impressions": 2246.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6324, "lng": -100.3036, "count": 2, "impressions": 3145.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.7337, "lng": -100.4004, "count": 1, "impressions": 2168.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7124, "lng": -100.3499, "count": 2, "impressions": 2302.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6889, "lng": -100.3526, "count": 2, "impressions": 2190.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.668, "lng": -100.294, "count": 1, "impressions": 2022.0}, {"city": "Monterrey", "venue": "Retail / Mall", "lat": 25.6532, "lng": -100.2942, "count": 1, "impressions": 1943.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.7339, "lng": -100.4008, "count": 2, "impressions": 2066.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6906, "lng": -100.3518, "count": 1, "impressions": 1887.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6998, "lng": -100.3618, "count": 2, "impressions": 3701.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6788, "lng": -100.3583, "count": 2, "impressions": 2201.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.696, "lng": -100.3675, "count": 3, "impressions": 2679.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6705, "lng": -100.3539, "count": 1, "impressions": 1640.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6535, "lng": -100.2772, "count": 1, "impressions": 1628.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.7292, "lng": -100.3207, "count": 1, "impressions": 1606.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6889, "lng": -100.3525, "count": 1, "impressions": 1584.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.5836, "lng": -100.2557, "count": 2, "impressions": 3088.0}, {"city": "Monterrey", "venue": "Sin clasificar", "lat": 25.7045, "lng": -100.3455, "count": 1, "impressions": 1462.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6745, "lng": -100.3533, "count": 2, "impressions": 1887.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7007, "lng": -100.3709, "count": 2, "impressions": 1348.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6672, "lng": -100.3418, "count": 2, "impressions": 1089.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6769, "lng": -100.2922, "count": 1, "impressions": 966.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6765, "lng": -100.3521, "count": 1, "impressions": 876.0}, {"city": "Monterrey", "venue": "Retail / Mall", "lat": 25.6307, "lng": -100.301, "count": 1, "impressions": 820.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.5987, "lng": -100.2643, "count": 1, "impressions": 758.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6569, "lng": -100.2954, "count": 1, "impressions": 679.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6841, "lng": -100.2681, "count": 1, "impressions": 584.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7291, "lng": -100.3199, "count": 1, "impressions": 573.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.7201, "lng": -100.3884, "count": 1, "impressions": 539.0}, {"city": "Monterrey", "venue": "Leisure / Recreational Locations", "lat": 25.7233, "lng": -100.3194, "count": 1, "impressions": 528.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6552, "lng": -100.2946, "count": 1, "impressions": 421.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6285, "lng": -100.2727, "count": 1, "impressions": 348.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.6352, "lng": -100.3075, "count": 1, "impressions": 337.0}, {"city": "Monterrey", "venue": "Transit / Taxi & Rideshare Tv", "lat": 25.6687, "lng": -100.31, "count": 1, "impressions": 337.0}, {"city": "Monterrey", "venue": "Retail / Mall", "lat": 25.6466, "lng": -100.3141, "count": 1, "impressions": 292.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6897, "lng": -100.3518, "count": 1, "impressions": 241.0}, {"city": "Monterrey", "venue": "Retail / Mall", "lat": 25.7328, "lng": -100.3959, "count": 1, "impressions": 213.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6311, "lng": -100.3011, "count": 1, "impressions": 124.0}, {"city": "Monterrey", "venue": "Outdoor / Billboards", "lat": 25.6896, "lng": -100.3517, "count": 1, "impressions": 118.0}, {"city": "Monterrey", "venue": "Transit / Buses", "lat": 25.7597, "lng": -100.4025, "count": 1, "impressions": 107.0}, {"city": "Monterrey", "venue": "Retail / Convenience Stores", "lat": 25.7124, "lng": -100.3424, "count": 1, "impressions": 101.0}, {"city": "Monterrey", "venue": "Transit / Buses", "lat": 25.7036, "lng": -100.2787, "count": 1, "impressions": 95.0}, {"city": "Monterrey", "venue": "Outdoor / Urban Panels", "lat": 25.7338, "lng": -100.4004, "count": 1, "impressions": 67.0}, {"city": "Monterrey", "venue": "Transit / Buses", "lat": 25.7236, "lng": -100.3637, "count": 2, "impressions": 51.0}, {"city": "Monterrey", "venue": "Transit / Buses", "lat": 25.7041, "lng": -100.3092, "count": 1, "impressions": 39.0}, {"city": "Monterrey", "venue": "Transit / Buses", "lat": 25.7634, "lng": -100.4076, "count": 1, "impressions": 22.0}, {"city": "Monterrey", "venue": "Transit / Train Stations", "lat": 25.7192, "lng": -100.3573, "count": 1, "impressions": 22.0}, {"city": "Monterrey", "venue": "Retail / Mall", "lat": 25.6812, "lng": -100.3546, "count": 2, "impressions": 17.0}, {"city": "Monterrey", "venue": "Transit / Buses", "lat": 25.7523, "lng": -100.3923, "count": 1, "impressions": 11.0}, {"city": "Monterrey", "venue": "Retail / Mall", "lat": 25.6379, "lng": -100.3143, "count": 1, "impressions": 11.0}, {"city": "Monterrey", "venue": "Retail / Mall", "lat": 25.7322, "lng": -100.396, "count": 1, "impressions": 11.0}, {"city": "Monterrey", "venue": "Transit / Buses", "lat": 25.7038, "lng": -100.2889, "count": 1, "impressions": 6.0}, {"city": "Monterrey", "venue": "Transit / Buses", "lat": 25.7489, "lng": -100.3876, "count": 1, "impressions": 6.0}, {"city": "Monterrey", "venue": "Transit / Buses", "lat": 25.7192, "lng": -100.3573, "count": 1, "impressions": 6.0}, {"city": "Monterrey", "venue": "Transit / Buses", "lat": 25.717, "lng": -100.3538, "count": 1, "impressions": 6.0}], "cities": ["Guadalajara", "Mexico City", "Monterrey"], "venues": ["Health & Beauty / Gyms", "Leisure / Bars", "Leisure / Recreational Locations", "Outdoor / Billboards", "Outdoor / Bus Shelters", "Outdoor / Urban Panels", "Retail / Convenience Stores", "Retail / Grocery", "Retail / Mall", "Sin clasificar", "Transit / Buses", "Transit / Subway", "Transit / Taxi & Rideshare Tv", "Transit / Train Stations"], "city_stats": {"Guadalajara": {"locations": 26, "screens": 31, "impressions": 203364.0}, "Mexico City": {"locations": 434, "screens": 587, "impressions": 9083380.0}, "Monterrey": {"locations": 122, "screens": 168, "impressions": 1265747.0}}, "venue_stats": {"Health & Beauty / Gyms": {"locations": 3, "screens": 6, "impressions": 15270.0}, "Leisure / Bars": {"locations": 2, "screens": 2, "impressions": 4635.0}, "Leisure / Recreational Locations": {"locations": 4, "screens": 20, "impressions": 60938.0}, "Outdoor / Billboards": {"locations": 200, "screens": 265, "impressions": 2633482.0}, "Outdoor / Bus Shelters": {"locations": 26, "screens": 27, "impressions": 17119.0}, "Outdoor / Urban Panels": {"locations": 160, "screens": 245, "impressions": 7458060.0}, "Retail / Convenience Stores": {"locations": 55, "screens": 55, "impressions": 3090.0}, "Retail / Grocery": {"locations": 8, "screens": 9, "impressions": 148642.0}, "Retail / Mall": {"locations": 26, "screens": 30, "impressions": 83540.0}, "Sin clasificar": {"locations": 23, "screens": 31, "impressions": 49687.0}, "Transit / Buses": {"locations": 14, "screens": 15, "impressions": 434.0}, "Transit / Subway": {"locations": 52, "screens": 72, "impressions": 75269.0}, "Transit / Taxi & Rideshare Tv": {"locations": 8, "screens": 8, "impressions": 2303.0}, "Transit / Train Stations": {"locations": 1, "screens": 1, "impressions": 22.0}}};

const VENUE_COLORS = {
  'Outdoor / Billboards': '#f87171',
  'Outdoor / Urban Panels': '#fb923c',
  'Outdoor / Bus Shelters': '#facc15',
  'Retail / Mall': '#4ade80',
  'Retail / Grocery': '#34d399',
  'Retail / Convenience Stores': '#2dd4bf',
  'Transit / Subway': '#22d3ee',
  'Transit / Buses': '#38bdf8',
  'Transit / Taxi & Rideshare Tv': '#60a5fa',
  'Transit / Train Stations': '#818cf8',
  'Leisure / Bars': '#c084fc',
  'Leisure / Recreational Locations': '#e879f9',
  'Health & Beauty / Gyms': '#f472b6',
  'Sin clasificar': '#94a3b8'
};

const CITY_CENTERS = {
  'Mexico City': [19.38, -99.18, 11],
  'Guadalajara': [20.68, -103.37, 12],
  'Monterrey': [25.68, -100.33, 11]
};

const CITY_COLORS = {
  'Mexico City': '#818cf8',
  'Guadalajara': '#34d399',
  'Monterrey': '#fb923c'
};

const map = L.map('map', {
  center: [22.5, -100.5],
  zoom: 6,
  zoomControl: false,
  attributionControl: false
});

L.control.zoom({position:'bottomright'}).addTo(map);
L.control.attribution({position:'bottomright',prefix:false}).addTo(map);

// Semi-dark tile: Stadia Alidade Smooth Dark (muted, not pitch black)
L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
  attribution: '&copy; OpenStreetMap &copy; CARTO',
  maxZoom: 19,
  opacity: 0.7
}).addTo(map);

// Add a subtle light layer on top to lighten the base
L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png', {
  maxZoom: 19,
  opacity: 0.25
}).addTo(map);

// Labels on top
L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png', {
  maxZoom: 19,
  opacity: 0.8
}).addTo(map);

let activeCity = 'all';
let activeVenues = new Set(DATA.venues);
let viewMode = 'markers';
let layerGroup = L.layerGroup().addTo(map);

function fmtNum(n) {
  if (n >= 1e6) return (n/1e6).toFixed(1) + 'M';
  if (n >= 1e3) return (n/1e3).toFixed(1) + 'K';
  return n.toFixed(0);
}

function getFiltered() {
  return DATA.points.filter(p => {
    if (activeCity !== 'all' && p.city !== activeCity) return false;
    if (!activeVenues.has(p.venue)) return false;
    return true;
  });
}

function bubbleRadius(imp) {
  const minR = 5, maxR = 35;
  const maxI = 150000;
  const clamped = Math.min(Math.max(imp, 0), maxI);
  return minR + (maxR - minR) * Math.sqrt(clamped / maxI);
}

function buildMarkers() {
  layerGroup.clearLayers();
  const filtered = getFiltered();

  if (viewMode === 'markers') {
    filtered.forEach(p => {
      const color = VENUE_COLORS[p.venue] || '#94a3b8';
      const icon = L.divIcon({
        className: '',
        html: `<div style="width:10px;height:10px;border-radius:50%;background:${color};border:2px solid rgba(255,255,255,0.7);box-shadow:0 0 6px ${color}90;"></div>`,
        iconSize: [10, 10],
        iconAnchor: [5, 5]
      });
      const marker = L.marker([p.lat, p.lng], {icon});
      marker.bindPopup(makePopup(p), {maxWidth: 230});
      layerGroup.addLayer(marker);
    });
  } else {
    const sorted = [...filtered].sort((a,b) => b.impressions - a.impressions);
    sorted.forEach(p => {
      const color = VENUE_COLORS[p.venue] || '#94a3b8';
      const r = bubbleRadius(p.impressions);
      const circle = L.circleMarker([p.lat, p.lng], {
        radius: r,
        fillColor: color,
        fillOpacity: 0.3,
        color: color,
        weight: 1.5,
        opacity: 0.75
      });
      circle.bindPopup(makePopup(p), {maxWidth: 230});
      layerGroup.addLayer(circle);
    });
  }

  updateStats(filtered);
  updateLegend(filtered);
  document.getElementById('legendSection').style.display = '';
  document.getElementById('bubbleLegendSection').style.display = viewMode === 'bubbles' ? '' : 'none';
}

function makePopup(p) {
  const bc = CITY_COLORS[p.city] || '#94a3b8';
  return `
    <div class="popup-badge" style="background:${bc}20;color:${bc};border:1px solid ${bc}40">${p.city}</div>
    <div class="popup-title">${p.venue}</div>
    <div class="popup-imp">${fmtNum(p.impressions)}</div>
    <div class="popup-imp-label">Impressions estimadas</div>
    <div class="popup-row" style="margin-top:6px">Pantallas <span>${p.count}</span></div>
    <div class="popup-row">Coordenadas <span>${p.lat}, ${p.lng}</span></div>
  `;
}

function updateStats(filtered) {
  const totalLoc = filtered.length;
  const totalScr = filtered.reduce((a,p) => a + p.count, 0);
  const totalImp = filtered.reduce((a,p) => a + p.impressions, 0);
  document.getElementById('stats').innerHTML = `
    <div class="stat-card"><div class="val">${totalLoc}</div><div class="lbl">Ubicaciones</div></div>
    <div class="stat-card"><div class="val">${totalScr}</div><div class="lbl">Pantallas</div></div>
    <div class="stat-card"><div class="val">${fmtNum(totalImp)}</div><div class="lbl">Impressions</div></div>
  `;
  const cityCount = {}, cityImp = {};
  filtered.forEach(p => {
    cityCount[p.city] = (cityCount[p.city]||0) + p.count;
    cityImp[p.city] = (cityImp[p.city]||0) + p.impressions;
  });
  const parts = Object.entries(cityImp).map(([c,n]) =>
    `<strong>${c==='Mexico City'?'CDMX':c==='Monterrey'?'MTY':'GDL'}</strong>: ${fmtNum(n)} imp (${cityCount[c]} pantallas)`
  ).join('<br>');
  document.getElementById('infoBox').innerHTML = parts || 'Sin datos con filtros actuales';
}

function updateLegend(filtered) {
  const vc = {}, vi = {};
  filtered.forEach(p => {
    vc[p.venue] = (vc[p.venue]||0) + p.count;
    vi[p.venue] = (vi[p.venue]||0) + p.impressions;
  });
  const sorted = Object.entries(vc).sort((a,b) => b[1] - a[1]);
  document.getElementById('legend').innerHTML = sorted.map(([v,c]) => `
    <div class="legend-item">
      <div class="legend-dot" style="background:${VENUE_COLORS[v]||'#94a3b8'}"></div>
      ${v}
      <span class="legend-count">${c} (${fmtNum(vi[v])})</span>
    </div>
  `).join('');
}

function buildCityFilters() {
  const el = document.getElementById('cityFilters');
  el.innerHTML = `<button class="city-btn ${activeCity==='all'?'active':''}" data-city="all">Todas</button>` +
    DATA.cities.map(c => {
      const label = c==='Mexico City'?'CDMX':c==='Monterrey'?'MTY':'GDL';
      return `<button class="city-btn ${activeCity===c?'active':''}" data-city="${c}">${label}</button>`;
    }).join('');
  el.querySelectorAll('.city-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      activeCity = btn.dataset.city;
      buildCityFilters();
      buildMarkers();
      if (activeCity !== 'all' && CITY_CENTERS[activeCity]) {
        const [lat,lng,z] = CITY_CENTERS[activeCity];
        map.flyTo([lat,lng], z, {duration: 1});
      } else {
        map.flyTo([22.5, -100.5], 6, {duration: 1});
      }
    });
  });
}

function buildVenueFilters() {
  const el = document.getElementById('venueFilters');
  const allActive = activeVenues.size === DATA.venues.length;
  el.innerHTML = `<div class="chip ${allActive?'active':''}" data-venue="__all__">Todos</div>` +
    DATA.venues.map(v => {
      const short = v.replace('Outdoor / ','').replace('Retail / ','').replace('Transit / ','').replace('Leisure / ','').replace('Health & Beauty / ','');
      const active = activeVenues.has(v);
      const style = active ? `border-color:${VENUE_COLORS[v]};background:${VENUE_COLORS[v]}18;color:${VENUE_COLORS[v]};font-weight:700` : '';
      return `<div class="chip ${active?'active':''}" data-venue="${v}" style="${active?style:''}">${short}</div>`;
    }).join('');
  el.querySelectorAll('.chip').forEach(chip => {
    chip.addEventListener('click', () => {
      const v = chip.dataset.venue;
      if (v === '__all__') {
        if (allActive) activeVenues.clear();
        else activeVenues = new Set(DATA.venues);
      } else {
        if (activeVenues.has(v)) activeVenues.delete(v);
        else activeVenues.add(v);
      }
      buildVenueFilters();
      buildMarkers();
    });
  });
}

document.getElementById('modeToggle').querySelectorAll('.mode-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.getElementById('modeToggle').querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    viewMode = btn.dataset.mode;
    buildMarkers();
  });
});

buildCityFilters();
buildVenueFilters();
buildMarkers();
</script>
</body>
</html>
